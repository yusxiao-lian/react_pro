{"version":3,"sources":["../node_modules/antd-mobile/lib/button/style/css.js","../node_modules/antd-mobile/lib/button/index.js","pages/Profile/index.module.css","pages/Profile/index.js"],"names":["__webpack_require__","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames3","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_rmcFeedback2","_icon2","default","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","rxTwoCNChar","isTwoCNChar","test","bind","isString","str","insertSpace","child","type","props","children","cloneElement","split","join","createElement","Button","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_classnames","_a","className","prefixCls","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick","restProps","iconType","wrapCls","kids","Children","map","iconEl","aria-hidden","rawCls","cls","undefined","role","aria-disabled","Component","defaultProps","module","title","bg","info","auth","user","myIcon","avatar","name","edit","arrow","ad","menuItem","menus","id","iconfont","to","DEFAULT_AVATAR","BASE_URL","alert","antd_mobile_lib_modal__WEBPACK_IMPORTED_MODULE_12___default","a","Profile","state","isLogin","isAuth","userInfo","logout","text","onPress","_onPress","E_reactdemo_11_react_04_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","E_reactdemo_11_react_04_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","mark","_callee","wrap","_context","prev","next","API","post","removeToken","_this","setState","stop","getUserInfo","get","res","data","status","body","history","_this$state","_this$state$userInfo","nickname","react__WEBPACK_IMPORTED_MODULE_13___default","styles","root","src","alt","Fragment","antd_mobile_lib_button__WEBPACK_IMPORTED_MODULE_3___default","push","antd_mobile_lib_grid__WEBPACK_IMPORTED_MODULE_1___default","columnNum","hasLine","renderItem","item","react_router_dom__WEBPACK_IMPORTED_MODULE_14__","concat"],"mappings":"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","file":"static/js/17.2050130b.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/css');\n\nrequire('../../icon/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\n\nfunction isString(str) {\n  return typeof str === 'string';\n} // Insert one space between two chinese characters automatically.\n\n\nfunction insertSpace(child) {\n  if (isString(child.type) && isTwoCNChar(child.props.children)) {\n    return React.cloneElement(child, {}, child.props.children.split('').join(' '));\n  }\n\n  if (isString(child)) {\n    if (isTwoCNChar(child)) {\n      child = child.split('').join(' ');\n    }\n\n    return React.createElement('span', null, child);\n  }\n\n  return child;\n}\n\nvar Button = function (_React$Component) {\n  (0, _inherits3['default'])(Button, _React$Component);\n\n  function Button() {\n    (0, _classCallCheck3['default'])(this, Button);\n    return (0, _possibleConstructorReturn3['default'])(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Button, [{\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _a = this.props,\n          children = _a.children,\n          className = _a.className,\n          prefixCls = _a.prefixCls,\n          type = _a.type,\n          size = _a.size,\n          inline = _a.inline,\n          disabled = _a.disabled,\n          icon = _a.icon,\n          loading = _a.loading,\n          activeStyle = _a.activeStyle,\n          activeClassName = _a.activeClassName,\n          onClick = _a.onClick,\n          restProps = __rest(_a, [\"children\", \"className\", \"prefixCls\", \"type\", \"size\", \"inline\", \"disabled\", \"icon\", \"loading\", \"activeStyle\", \"activeClassName\", \"onClick\"]);\n\n      var iconType = loading ? 'loading' : icon;\n      var wrapCls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-primary', type === 'primary'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-ghost', type === 'ghost'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-warning', type === 'warning'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', size === 'small'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-inline', inline), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-loading', loading), (0, _defineProperty3['default'])(_classnames, prefixCls + '-icon', !!iconType), _classnames));\n      var kids = React.Children.map(children, insertSpace);\n      var iconEl = void 0;\n\n      if (typeof iconType === 'string') {\n        iconEl = React.createElement(_icon2['default'], {\n          'aria-hidden': 'true',\n          type: iconType,\n          size: size === 'small' ? 'xxs' : 'md',\n          className: prefixCls + '-icon'\n        });\n      } else if (iconType) {\n        var rawCls = iconType.props && iconType.props.className;\n        var cls = (0, _classnames3['default'])('am-icon', prefixCls + '-icon', size === 'small' ? 'am-icon-xxs' : 'am-icon-md');\n        iconEl = React.cloneElement(iconType, {\n          className: rawCls ? rawCls + ' ' + cls : cls\n        });\n      } // use div, button native is buggy @yiminghe\n\n\n      return React.createElement(_rmcFeedback2['default'] // tslint:disable-next-line:jsx-no-multiline-js\n      , {\n        activeClassName: activeClassName || (activeStyle ? prefixCls + '-active' : undefined),\n        disabled: disabled,\n        activeStyle: activeStyle\n      }, React.createElement('a', (0, _extends3['default'])({\n        role: 'button',\n        className: wrapCls\n      }, restProps, {\n        onClick: disabled ? undefined : onClick,\n        'aria-disabled': disabled\n      }), iconEl, kids));\n    }\n  }]);\n  return Button;\n}(React.Component);\n\nButton.defaultProps = {\n  prefixCls: 'am-button',\n  size: 'large',\n  inline: false,\n  disabled: false,\n  loading: false,\n  activeStyle: {}\n};\nexports['default'] = Button;\nmodule.exports = exports['default'];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Profile_title__2Iw_k\",\"bg\":\"Profile_bg__1XJWH\",\"info\":\"Profile_info__BSTVI\",\"auth\":\"Profile_auth__3zs4U\",\"user\":\"Profile_user___kg0d\",\"myIcon\":\"Profile_myIcon__LFaEj\",\"avatar\":\"Profile_avatar__2KJmc\",\"name\":\"Profile_name__3nq8k\",\"edit\":\"Profile_edit__1W45o\",\"arrow\":\"Profile_arrow__1-CR0\",\"ad\":\"Profile_ad__UYA8B\",\"menuItem\":\"Profile_menuItem__1HQsJ\"};","import React, { Component } from 'react'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, Button, Modal } from 'antd-mobile'\r\n\r\nimport { BASE_URL, isAuth, API, removeToken } from '../../utils'\r\n\r\nimport styles from './index.module.css'\r\n\r\n// 菜单数据\r\nconst menus = [\r\n  // { id: 1, name: '我的收藏', iconfont: 'icon-coll', to: '/favorate' },\r\n  { id: 2, name: '我的出租', iconfont: 'icon-ind', to: '/rent' },\r\n  { id: 3, name: '看房记录', iconfont: 'icon-record' },\r\n  {\r\n    id: 4,\r\n    name: '成为房主',\r\n    iconfont: 'icon-identity'\r\n  },\r\n  { id: 5, name: '个人资料', iconfont: 'icon-myinfo' },\r\n  { id: 6, name: '联系我们', iconfont: 'icon-cust' }\r\n]\r\n\r\n// 默认头像\r\nconst DEFAULT_AVATAR = BASE_URL + '/img/profile/avatar.png'\r\n\r\n// 确认对话框\r\nconst alert = Modal.alert\r\n\r\nexport default class Profile extends Component {\r\n  state = {\r\n    // 登录状态\r\n    isLogin: isAuth(),\r\n    // 用户资料\r\n    userInfo: {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUserInfo()\r\n  }\r\n\r\n  // 获取个人资料\r\n  async getUserInfo() {\r\n    const { isLogin } = this.state\r\n\r\n    if (!isLogin) {\r\n      // 没有登录\r\n      return\r\n    }\r\n\r\n    // 登录\r\n    const res = await API.get('/user', {\r\n      // headers: {\r\n      //   authorization: getToken()\r\n      // }\r\n    })\r\n\r\n    const { status, body } = res.data\r\n\r\n    if (status === 200) {\r\n      // 登录成功\r\n      this.setState({\r\n        userInfo: body\r\n      })\r\n    } else {\r\n      // 登录失败，token失效\r\n      // 移除token\r\n      // removeToken()\r\n      // 修改登录状态为false\r\n      this.setState({\r\n        isLogin: false\r\n      })\r\n    }\r\n  }\r\n\r\n  // 退出\r\n  logout = () => {\r\n    alert('提示', '是否确定退出?', [\r\n      { text: '取消' },\r\n      {\r\n        text: '退出',\r\n        onPress: async () => {\r\n          // 服务器端退出\r\n          await API.post('/user/logout', {\r\n            // headers: {\r\n            //   authorization: getToken()\r\n            // }\r\n          })\r\n          // 本地退出\r\n          removeToken()\r\n\r\n          this.setState({\r\n            isLogin: false,\r\n            userInfo: {}\r\n          })\r\n        }\r\n      }\r\n    ])\r\n  }\r\n\r\n  render() {\r\n    const { history } = this.props\r\n    const {\r\n      userInfo: { avatar, nickname },\r\n      isLogin\r\n    } = this.state\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 个人信息 */}\r\n        <div className={styles.title}>\r\n          <img\r\n            className={styles.bg}\r\n            src={BASE_URL + '/img/profile/bg.png'}\r\n            alt=\"背景图\"\r\n          />\r\n          <div className={styles.info}>\r\n            <div className={styles.myIcon}>\r\n              <img\r\n                className={styles.avatar}\r\n                src={(avatar ? BASE_URL + avatar : '') || DEFAULT_AVATAR}\r\n                alt=\"icon\"\r\n              />\r\n            </div>\r\n            <div className={styles.user}>\r\n              <div className={styles.name}>{nickname || '游客'}</div>\r\n              {/* 登录后展示： */}\r\n              {isLogin ? (\r\n                <>\r\n                  <div className={styles.auth}>\r\n                    <span onClick={this.logout}>退出</span>\r\n                  </div>\r\n                  <div className={styles.edit}>\r\n                    编辑个人资料\r\n                    <span className={styles.arrow}>\r\n                      <i className=\"iconfont icon-arrow\" />\r\n                    </span>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className={styles.edit}>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    inline\r\n                    onClick={() => history.push('/login')}\r\n                  >\r\n                    去登录\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 九宫格菜单 */}\r\n        <Grid\r\n          data={menus}\r\n          columnNum={3}\r\n          hasLine={false}\r\n          renderItem={item =>\r\n            item.to ? (\r\n              <Link to={item.to}>\r\n                <div className={styles.menuItem}>\r\n                  <i className={`iconfont ${item.iconfont}`} />\r\n                  <span>{item.name}</span>\r\n                </div>\r\n              </Link>\r\n            ) : (\r\n              <div className={styles.menuItem}>\r\n                <i className={`iconfont ${item.iconfont}`} />\r\n                <span>{item.name}</span>\r\n              </div>\r\n            )\r\n          }\r\n        />\r\n\r\n        {/* 加入我们 */}\r\n        <div className={styles.ad}>\r\n          <img src={BASE_URL + '/img/profile/join.png'} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}